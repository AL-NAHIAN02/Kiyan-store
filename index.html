<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KYAN</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">

<style>
#cartItems button{
background:red;
color:white;
border:none;
padding:4px 8px;
margin-left:10px;
border-radius:5px;
}

body{
margin:0;
font-family:Montserrat;
background:#b7b7b7;
color:white;
overflow-x:hidden;
}

/* NAVBAR */

nav{
position:fixed;
top:0;
width:100%;
display:flex;
justify-content:space-between;
align-items:center;
padding:18px 20px;
z-index:1000;
}

.logo{
position:absolute;
left:50%;
transform:translateX(-50%);
font-size:32px;
letter-spacing:14px;
font-weight:300;
}

.menu{
font-size:26px;
}

.cart{
font-size:20px;
}

/* HERO */

.hero{
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
animation:heroUp 1.4s ease forwards;
animation-delay:1.8s;
}

.hero-logo{
font-size:32px;
letter-spacing:14px;
font-weight:300;
}

.hero p{
font-size:14px;
letter-spacing:4px;
margin-top:10px;
}

/* SECTION */

.section{
padding:80px 20px 20px;
text-align:center;
opacity:0;
animation:showContent 1s ease forwards;
animation-delay:2s;
}

.title{
letter-spacing:6px;
margin-bottom:30px;
}

/* CATEGORIES */

.categories{
display:grid;
grid-template-columns:1fr 1fr;
gap:15px;
}

.cat img{
width:100%;
border-radius:10px;
}

.cat span{
display:block;
margin-top:8px;
font-weight:600;
}

/* PRODUCTS */

.products{
display:grid;
grid-template-columns:1fr 1fr;
gap:15px;
padding:20px;
}

.card{
background:white;
color:black;
border-radius:12px;
padding:10px;
text-align:center;
}

.card img{
width:100%;
border-radius:10px;
}

button{
background:#d6c1b4;
border:none;
padding:12px;
width:100%;
margin-top:8px;
border-radius:8px;
font-weight:600;
}

/* POPUP */

.popup{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.5);
display:none;
justify-content:center;
align-items:center;
}

.popup-content{
background:white;
color:black;
padding:20px;
border-radius:12px;
width:80%;
max-width:300px;
text-align:center;
}

/* ANIMATION */

@keyframes heroUp{
0%{transform:translateY(0);}
100%{transform:translateY(-120px);}
}

@keyframes showContent{
to{opacity:1;}
}

</style>
</head>

<body>

<nav>
<div class="menu">‚ò∞</div>
<div class="logo">KYAN</div>
<div class="cart" onclick="openCart()">üõí <span id="cart-count">0</span></div>
</nav>

<!-- HERO -->

<section class="hero">
<div class="hero-logo">KYAN</div>
<p>Crafted for Confidence</p>
</section>

<!-- CATEGORIES -->

<div class="section">

<h3 class="title">TOP CATEGORIES</h3>

<div class="categories">

<div class="cat">
<img src="https://images.unsplash.com/photo-1593030761757-71fae45fa0e7">
<span>Shirts</span>
</div>

<div class="cat">
<img src="https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf">
<span>Panjabi</span>
</div>

<div class="cat">
<img src="https://images.unsplash.com/photo-1583743814966-8936f37f4678">
<span>T-Shirts</span>
</div>

<div class="cat">
<img src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b">
<span>New Arrival</span>
</div>

</div>
</div>

<!-- PRODUCTS -->

<div class="products">

<div class="card">
<img src="https://images.unsplash.com/photo-1596755094514-f87e34085b2c">
<h4>Black Premium Shirt</h4>
<p>‡ß≥ 1890</p>
<button onclick="openPopup('Black Premium Shirt',1890,'cart')">Add to Cart</button>
<button onclick="openPopup('Black Premium Shirt',1890,'buy')">Buy Now</button>
</div>

<div class="card">
<img src="https://images.unsplash.com/photo-1603252109303-2751441dd157">
<h4>White Luxury Shirt</h4>
<p>‡ß≥ 1990</p>
<button onclick="openPopup('White Luxury Shirt',1990,'cart')">
Add to Cart
</button>

<button onclick="openPopup('White Luxury Shirt',1990,'buy')">
Buy Now
</button>
</div>

</div>

<!-- POPUP -->

<div id="popup" class="popup">
<div class="popup-content">

<h3>Select Size</h3>

<select id="size">
<option>S</option>
<option>M</option>
<option>L</option>
<option>XL</option>
</select>

<h3>Quantity</h3>

<input type="number" id="qty" value="1" min="1">

<button onclick="confirmAction()">Confirm</button>
<button onclick="closePopup()">Cancel</button>

</div>
</div>

<script>
function removeItem(index){

cart.splice(index,1)

localStorage.setItem("cart",JSON.stringify(cart))

updateCart()
openCart()

}
let cart = JSON.parse(localStorage.getItem("cart")) || []
let selectedProduct = {}
let actionType = ""

updateCart()

function openPopup(name,price,type){
selectedProduct = {name,price}
actionType = type
document.getElementById("popup").style.display = "flex"
}

function closePopup(){
document.getElementById("popup").style.display = "none"
}

function confirmAction(){

let size = document.getElementById("size").value
let qty = document.getElementById("qty").value
let total = selectedProduct.price * qty

if(actionType === "cart"){

cart.push({...selectedProduct,size,qty})
localStorage.setItem("cart",JSON.stringify(cart))
updateCart()
closePopup()

}

if(actionType === "buy"){

window.location.href="https://checkout.bka.sh/v1.2.0-beta/checkout/payment?amount="+total

}

}

function updateCart(){

let count = 0
cart.forEach(item => count += Number(item.qty))

document.getElementById("cart-count").innerText = count
}

function openCart(){

let items = ""
let total = 0

cart.forEach((item,index)=>{
items += `
<p>
${item.name} (${item.size}) x ${item.qty}
<button onclick="removeItem(${index})">‚ùå</button>
</p>
`
total += item.price * item.qty
})

document.getElementById("cartItems").innerHTML = items
document.getElementById("cartTotal").innerText = "Total: ‡ß≥ " + total

document.getElementById("cartBox").style.display = "flex"
}

function closeCart(){
document.getElementById("cartBox").style.display = "none"
}

function checkoutCart(){

let total = 0

cart.forEach(item=>{
total += item.price * item.qty
})

window.location.href="https://checkout.bka.sh/v1.2.0-beta/checkout/payment?amount="+total

}

</script>
<div id="cartBox" class="popup">
<div class="popup-content">

<h3>Your Cart</h3>

<div id="cartItems"></div>

<h4 id="cartTotal"></h4>

<button onclick="checkoutCart()">Buy Now</button>
<button onclick="closeCart()">Close</button>

</div>
</div>
</body>
</html>